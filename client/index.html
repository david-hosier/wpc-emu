<!doctype html>
<html>
    <head>
      <title>WPC Emu debug view</title>
      <meta charset="utf-8" />
      <style>
        html, body { margin: 0; padding: 0; border: 0; }
      </style>
    </head>
    <body>
      <div>
        DBG:
        <button type="button" onclick="stopEmu();">Pause Emulator</button>
        <button type="button" onclick="startEmu();">Resume Emulator</button>
        <button type="button" onclick="localStorage.debug = '*'; location.reload();">Enable Debug Logs</button>
        <button type="button" onclick="localStorage.debug = ''; location.reload();">Disable Debug Logs</button>
        <button type="button" onclick="irq();">IRQ</button>
        <button type="button" onclick="firq();">FIRQ</button>
        <button type="button" onclick="reset();">RESET</button>
        <button type="button" onclick="emuStep();">STEP</button>
      </div>
      <div>
        COIN DOOR SWITCHES:
        <button type="button" onclick="setCabinetInput(0);">0</button>
        <button type="button" onclick="setCabinetInput(1);">1</button>
        <button type="button" onclick="setCabinetInput(2);">2</button>
        <button type="button" onclick="setCabinetInput(4);">4</button>
        <button type="button" onclick="setCabinetInput(8);">8</button> 
        <button type="button" onclick="setCabinetInput(16);">Escape</button>
        <button type="button" onclick="setCabinetInput(32);">-</button>
        <button type="button" onclick="setCabinetInput(64);">+</button>
        <button type="button" onclick="setCabinetInput(128);">Enter</button>
      </div>
      <canvas id="c"></canvas>

      <script>
        var a = document.getElementsByTagName('canvas')[0];
        var b = document.body;
        var d = function(e){ return function(){ e.parentNode.removeChild(e); }; }(a);
        // unprefix some popular vendor prefixed things (but stick to their original name)
        var AudioContext =
          window.AudioContext ||
          window.webkitAudioContext;
        var requestAnimationFrame =
          window.requestAnimationFrame ||
          window.mozRequestAnimationFrame ||
          window.webkitRequestAnimationFrame ||
          window.msRequestAnimationFrame ||
          function(f){ setTimeout(f, 1000/30); };

        // fix bug in safari: http://qfox.nl/weblog/218
        document.body.clientWidth;
        // auto resize (original) canvas. call `onresize(w,h) to limit the size of the canvas
        (window.onorientationchange = window.onresize = function(a){
          var mw = Infinity;
          var mh = Infinity;

          return function(w,h){
            if (arguments.length === 2) {
              mw = w;
              mh = h;
            }
            a.style.width = (a.width = Math.min(mw, innerWidth)) + 'px';
            a.style.height = (a.height = Math.min(mh, innerHeight)) + 'px';
          };
        }(a))();

        var c = a.getContext('2d');
      </script>
      <script src="../dist/wpc-emu.js"></script>
      <script src="client.js"></script>
    </body>
</html>
