<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>WPC Emu Debug view</title>
    <meta name="viewport" content="viewport-fit=cover, initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <link rel="stylesheet" href="http://cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css">
    <link rel="stylesheet" href="client.css">
  </head>
  <body>

    <div class="container">
      <div class="row">
        <div class="column column-10">Emulator</div>
        <div class="column">
          <button class="button-black button-small black" onclick="wpcSystem.irq();">IRQ</button>
          <button class="button-black button-small black" onclick="wpcSystem.firq();">FIRQ</button>
          <button class="button-black button-small black" onclick="wpcSystem.reset();">RESET</button>
          <button class="button-black button-outline button-small black" onclick="stopEmu();">Pause</button>
          <button class="button-black button-outline button-small black" onclick="startEmu();">Resume</button>
          <button class="button-black button-outline button-small black" onclick="localStorage.debug = '*'; location.reload();">Enable Debug</button>
          <button class="button-black button-outline button-small black" onclick="localStorage.debug = ''; location.reload();">Disable Debug</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.executeCycle();">STEP</button>
        </div>
      </div>
      <div class="row">
        <div class="column column-10">Coindoor</div>
        <div class="column">
          <button class="button-black button-small black" onclick="wpcSystem.setCabinetInput(16);">Escape</button>
          <button class="button-black button-small black" onclick="wpcSystem.setCabinetInput(32);">-</button>
          <button class="button-black button-small black" onclick="wpcSystem.setCabinetInput(64);">+</button>
          <button class="button-black button-small black" onclick="wpcSystem.setCabinetInput(128);">Enter</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setCabinetInput(1);">SLOT #1</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setCabinetInput(2);">SLOT #2</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setCabinetInput(4);">SLOT #3</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setCabinetInput(8);">SLOT #4</button>
        </div>
      </div>

      <div class="row">
        <div class="column column-10">Switch</div>
        <div class="column column-90">
          <button class="button-black button-small black" onclick="wpcSystem.setInput(12);">LEFT FLIPPER</button>
          <button class="button-black button-small black" onclick="wpcSystem.setInput(11);">RIGHT FLIPPER</button>
          <button class="button-black button-small black" onclick="wpcSystem.setInput(13);">START</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(28);">BALL SHOOTER</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(15);">TROUGH 0</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(16);">TROUGH 1</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(17);">TROUGH 2</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(18);">TROUGH 3</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(21);">SLAM TILT</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(31);">31</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(32);">32</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(33);">33</button>
          <button class="button-black button-outline button-small black" onclick="wpcSystem.setInput(34);">34</button>
        </div>
      </div>
    </div>

    <canvas id="c"></canvas>

    <script>
      var a = document.getElementsByTagName('canvas')[0];
      var b = document.body;

      var AudioContext =
        window.AudioContext ||
        window.webkitAudioContext;
      
        // auto resize (original) canvas. call `onresize(w,h) to limit the size of the canvas
        (window.onorientationchange = window.onresize = function(a){
          var mw = Infinity;
          var mh = Infinity;

          return function(w,h){
            if (arguments.length === 2) {
              mw = w;
              mh = h;
            }
            a.style.width = (a.width = Math.min(mw, innerWidth)) + 'px';
            a.style.height = (a.height = Math.min(mh, innerHeight)) + 'px';
          };
        }(a))();

      var c = a.getContext('2d', { alpha: false });
    </script>
    <script src="../dist/wpc-emu.js"></script>
    <script src="client.js"></script>
  </body>
</html>
